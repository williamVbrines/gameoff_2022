[gd_scene load_steps=24 format=3 uid="uid://m3knhmycj5x"]

[ext_resource type="Script" path="res://scenes/npc/wizzard/wizzard.gd" id="1_jsdqk"]
[ext_resource type="Resource" uid="uid://cc8sl1bonoce0" path="res://scenes/resources/npc/test_npc_resource.tres" id="2_4wbxn"]
[ext_resource type="Script" path="res://scenes/interactableArea3D/interactableArea3D.gd" id="3_ayixh"]
[ext_resource type="PackedScene" uid="uid://dgo2pi8osrcty" path="res://scenes/error_notification.tscn" id="5_hjnrt"]
[ext_resource type="Shader" path="res://shaders/fresnel_highlight.gdshader" id="5_nt53f"]
[ext_resource type="Script" path="res://scenes/rand_audio_stream_player.gd" id="6_bicrs"]
[ext_resource type="AudioStream" uid="uid://b3jstw1qxyjk5" path="res://audio/sfx/NPC Action Sound/NPC Attack 3.mp3" id="7_fq7o5"]
[ext_resource type="AudioStream" uid="uid://dxagyq1var7ir" path="res://audio/sfx/NPC Action Sound/NPC Attack 4.mp3" id="8_np13e"]
[ext_resource type="AudioStream" uid="uid://cjgs5ku73jk0n" path="res://audio/sfx/NPC Action Sound/NPC Attack 5.mp3" id="9_iah25"]
[ext_resource type="AudioStream" uid="uid://byubkkqsdlqd2" path="res://audio/sfx/NPC Action Sound/NPC Attack 6.mp3" id="10_2ryvt"]
[ext_resource type="AudioStream" uid="uid://1t5eo511wy6a" path="res://audio/sfx/NPC Action Sound/NPC Heal 1.1.mp3" id="11_4m62o"]
[ext_resource type="AudioStream" uid="uid://bwfd0f8xs370f" path="res://audio/sfx/NPC Action Sound/NPC Heal 1.mp3" id="12_gyyui"]
[ext_resource type="AudioStream" uid="uid://bjufr4mg57yxi" path="res://audio/sfx/NPC Action Sound/NPC Heal 2.1.mp3" id="13_sb8ci"]
[ext_resource type="AudioStream" uid="uid://bgtgqjtvgojmv" path="res://audio/sfx/NPC Action Sound/NPC Heal 2.mp3" id="14_nvcsg"]
[ext_resource type="Texture2D" uid="uid://dxhm4itmlk0fq" path="res://textures/DustParticleTexture.png" id="15_1qdaq"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ihbgs"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_epeb6"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_q2ol2"]
render_priority = 0
shader = ExtResource("5_nt53f")
shader_parameter/highlight_color = Color(0, 1.2, 1.2, 1)
shader_parameter/str = 300.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_aqb8a"]
next_pass = SubResource("ShaderMaterial_q2ol2")
albedo_color = Color(0.443137, 0, 0.737255, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rqtoj"]
albedo_color = Color(0.168627, 0.631373, 0.733333, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_o6e5p"]
transparency = 1
blend_mode = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("15_1qdaq")
billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ymxtx"]
lifetime_randomness = 1.0
emission_shape = 3
emission_box_extents = Vector3(1, 1, 1)
flatness = 1.0
gravity = Vector3(0, 15, 0)
scale_min = 0.0
scale_max = 0.25
color = Color(0.49, 1.5, 0.49, 1)
anim_speed_min = 0.1
anim_speed_max = 0.2
collision_mode = 2

[sub_resource type="QuadMesh" id="QuadMesh_fj7jh"]

[node name="Wizard" type="Node3D"]
process_mode = 1
transform = Transform3D(0.887815, 0, 0.4602, 0, 1, 0, -0.4602, 0, 0.887815, 0, 0, 0)
script = ExtResource("1_jsdqk")
npc_res = ExtResource("2_4wbxn")
npc_mesh = NodePath("NpcMesh")
interactable_area = NodePath("InteractableArea3D")
camera = NodePath("Camera")

[node name="InteractableArea3D" type="Area3D" parent="."]
process_mode = 1
process_priority = 1
collision_layer = 4
collision_mask = 5
script = ExtResource("3_ayixh")
detection_groups = ["PickupAera"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractableArea3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_ihbgs")

[node name="NpcMesh" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_epeb6")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_aqb8a")

[node name="PlayerMesh" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 5.96046e-08, 0, 1, 0, -5.96046e-08, 0, 1, -0.0566183, 0.0570985, 2.71748)
visible = false
mesh = SubResource("CapsuleMesh_epeb6")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_rqtoj")

[node name="Camera" type="Camera3D" parent="."]
transform = Transform3D(0.337095, -0.0836914, 0.937744, 0, 0.996041, 0.0888943, -0.941471, -0.0299658, 0.335761, 2.35252, 0.971867, 2.32887)

[node name="ErrorNotification" parent="." instance=ExtResource("5_hjnrt")]

[node name="AttackAudio" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_fq7o5")
volume_db = -15.0
bus = &"SFX"
script = ExtResource("6_bicrs")
samples = [ExtResource("7_fq7o5"), ExtResource("8_np13e"), ExtResource("9_iah25"), ExtResource("10_2ryvt")]

[node name="HealAudio" type="AudioStreamPlayer" parent="."]
script = ExtResource("6_bicrs")
samples = [ExtResource("11_4m62o"), ExtResource("12_gyyui"), ExtResource("13_sb8ci"), ExtResource("14_nvcsg")]

[node name="HealParticles" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 5.96046e-08, 0, 1, 0, -5.96046e-08, 0, 1, -0.0127065, 0.36125, -0.00514965)
material_override = SubResource("StandardMaterial3D_o6e5p")
transparency = 0.92
cast_shadow = 0
emitting = false
amount = 100
lifetime = 1.97
preprocess = 6.0
speed_scale = 0.15
randomness = 1.0
visibility_aabb = AABB(-2.5, 0, -2.5, 5, 8, 5)
process_material = SubResource("ParticleProcessMaterial_ymxtx")
draw_pass_1 = SubResource("QuadMesh_fj7jh")
